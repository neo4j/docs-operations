:description: An overview of where files are stored in the different Neo4j distributions, and the necessary file permissions for running Neo4j.

[[file-locations]]
= Default file locations

[[neo4j-directories]]
== Directories of Neo4j

The overview of the Neo4j folders:

* Bin -- The Neo4j running script and built-in tools, such as Cypher Shell and Neo4j Admin.
* Certificates -- The Neo4j TLS certificates.
* Configuration -- The Neo4j configuration settings, Log4j configuration settings, and the JMX access credentials.
For details about _neo4j.conf_, see xref:configuration/neo4j-conf.adoc[The neo4j.conf file].
* Data -- All data-related content, such as databases, transactions, cluster-state (if applicable), dumps, and the _cypher.script_ files (from the `neo4j-admin database restore` command).
The data directory is internal to Neo4j and its structure is subject to change between versions without notice.
* Import -- All CSV files that the command `LOAD CSV` uses as sources to import data in Neo4j.
* Labs -- Contains APOC Core.
For more information, see https://neo4j.com/labs/apoc/{neo4j-version}/installation/[APOC User Guide -> Installation].
* Lib -- All Neo4j dependencies.
* Licenses -- For storing license files from Neo4j.
* Logs -- The Neo4j log files.
* Metrics -- The Neo4j built-in metrics for monitoring the Neo4j DBMS and each individual database.
* Plugins -- Custom code that extends Neo4j, for example, user-defined procedures, functions, and security plugins.
* Products -- The jar files of the Neo4j products: Graph Data Science Library and Bloom. The folder also contains a _README.txt_ file with information on enabling them.
* Run -- The processes IDs.

The following table list the default locations of the Neo4j files per distribution.

[[table-file-locations]]
.Default file locations
[cols="1,2,2,2,3", options="header"]
|===
| File type
| Linux / macOS / Docker
| Windows
| Debian / RPM
| Neo4j Desktop footnote:[Applicable to all operating systems where Neo4j Desktop is supported.]

| Bin
| _<neo4j-home>/bin_
| _<neo4j-home>\bin_
| _/usr/bin_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_ and run `cd bin`.

| Certificates
| _<neo4j-home>/certificates_
| _<neo4j-home>\certificates_
| _/var/lib/neo4j/certificates_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_ and run `cd certificates`.


| Configuration footnote:[For details about _neo4j.conf_, see xref:configuration/neo4j-conf.adoc[The neo4j.conf file].]
| _<neo4j-home>/conf/neo4j.conf_ +
 _<neo4j-home>/conf/server-logs.xml_ +
 _<neo4j-home>/conf/user-log.xml_
| _<neo4j-home>\conf\neo4j.conf_ +
_<neo4j-home>\conf\server-logs.xml_ +
_<neo4j-home>\conf\user-log.xml_
| _/etc/neo4j/neo4j.conf_ +
_/etc/neo4j/server-logs.xml_ +
_/etc/neo4j/user-log.xml_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_ and run `cd conf`.

| Data footnote:[The data directory is internal to Neo4j and its structure is subject to change between versions without notice.]
| _<neo4j-home>/data_
| _<neo4j-home>\data_
| _/var/lib/neo4j/data_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd data`.

| Import
| _<neo4j-home>/import_
| _<neo4j-home>\import_
| _/var/lib/neo4j/import_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd import`.

| Labs footnote:[For more information, see https://neo4j.com/labs/apoc/{neo4j-version}/installation/[APOC User Guide -> Installation].]
| _<neo4j-home>/labs_
| _<neo4j-home>\labs_
| _/var/lib/neo4j/labs_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd labs`.

| Lib
| _<neo4j-home>/lib_
| _<neo4j-home>\lib_
| _/usr/share/neo4j/lib_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd lib`.

| Licenses
| _<neo4j-home>/licenses_
| _<neo4j-home>\licenses_
| _/var/lib/neo4j/licenses_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd licences`.

| Logs
| _<neo4j-home>/logs_ footnote:[To view _neo4j.log_ in Docker, use xref:docker/mounting-volumes.adoc#docker-volumes-logs[`docker logs <containerID/name>`].]
| _<neo4j-home>\logs_
| _/var/log/neo4j/_ footnote:[To view the neo4j.log for Debian and RPM, use `journalctl --unit=neo4j`.]
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd logs`.

| Metrics
| _<neo4j-home>/metrics_
| _<neo4j-home>\metrics_
| _/var/lib/neo4j/metrics_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd metrics`.

| Plugins
| _<neo4j-home>/plugins_
| _<neo4j-home>\plugins_
| _/var/lib/neo4j/plugins_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd plugins`.

| Products
| _<neo4j-home>/products_
| _<neo4j-home>\products_
| _/var/lib/neo4j/products_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd products`.

| Run
| _<neo4j-home>/run_
| _<neo4j-home>\run_
| _/var/lib/neo4j/run_
| From the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_, and run `cd run`.
|===


The following tables list the default locations of the Neo4j files per distribution.

[[table-file-locations-linux-macos-docker]]
=== Default file locations in Linux / macOs / Docker

[cols="2,5", options="header"]
|===
| File type
| Location

| Bin
| _<neo4j-home>/bin_

| Certificates
| _<neo4j-home>/certificates_

| Configuration
| _<neo4j-home>/conf/neo4j.conf_ +
  _<neo4j-home>/conf/neo4j-admin.conf_ +
  _<neo4j-home>/conf/server-logs.xml_ +
  _<neo4j-home>/conf/user-log.xml_

| Data
| _<neo4j-home>/data_

| Import
| _<neo4j-home>/import_

| Labs
| _<neo4j-home>/labs_

| Lib
| _<neo4j-home>/lib_

| Licenses
| _<neo4j-home>/licenses_

| Logs
| _<neo4j-home>/logs_ footnote:[To view _neo4j.log_ in Docker, use xref:docker/mounting-volumes.adoc#docker-volumes-logs[`docker logs <containerID/name>`].]

| Metrics
| _<neo4j-home>/metrics_

| Plugins
| _<neo4j-home>/plugins_

| Products
| _<neo4j-home>/products_

| Run
| _<neo4j-home>/run_
|===


[[table-file-locations-windows]]
=== Default file locations in Windows

[cols="2,5", options="header"]
|===
| File type
| Location

| Bin
| _<neo4j-home>\bin_

| Certificates
| _<neo4j-home>\certificates_

| Configuration
| _<neo4j-home>\conf\neo4j.conf_ +
  _<neo4j-home>\conf\neo4j-admin.conf_ +
  _<neo4j-home>\conf\server-logs.xml_ +
  _<neo4j-home>\conf\user-log.xml_

| Data
| _<neo4j-home>\data_

| Import
| _<neo4j-home>\import_

| Labs
| _<neo4j-home>\labs_

| Lib
| _<neo4j-home>\lib_

| Licenses
| _<neo4j-home>\licenses_

| Logs
| _<neo4j-home>\logs_

| Metrics
| _<neo4j-home>\metrics_

| Plugins
| _<neo4j-home>\plugins_

| Products
| _<neo4j-home>\products_

| Run
| _<neo4j-home>\run_
|===


[[table-file-locations-debian-rpm]]
=== Default file locations in Debian / RPM

[cols="2,5", options="header"]
|===
| File type
| Location

| Bin
| _/usr/bin_

| Certificates
| _/var/lib/neo4j/certificates_

| Configuration
| _/etc/neo4j/neo4j.conf_ +
  _/etc/neo4j/neo4j-admin.conf_ +
  _/etc/neo4j/server-logs.xml_ +
  _/etc/neo4j/user-log.xml_

| Data
| _/var/lib/neo4j/data_

| Import
| _/var/lib/neo4j/import_

| Labs
| _/var/lib/neo4j/labs_

| Lib
| _/usr/share/neo4j/lib_

| Licenses
| _/var/lib/neo4j/licenses_

| Logs
| _/var/log/neo4j/_ footnote:[To view the neo4j.log for Debian and RPM, use `journalctl --unit=neo4j`.]

| Metrics
| _/var/lib/neo4j/metrics_

| Plugins
| _/var/lib/neo4j/plugins_

| Products
| _/var/lib/neo4j/products_

| Run
| _/var/lib/neo4j/run_
|===

=== Neo4j Desktop

In Neo4j Desktop, go to the _Open_ dropdown menu of your active Neo4j DBMS, select _Terminal_:

* run `cd bin` to switch to the Bin folder

* run `cd certificates` to switch to the Certificates folder

* run `cd conf` to switch to the Configuration folder

* run `cd data` to switch to the Data folder

* run `cd import` to switch to the Import folder

* run `cd labs` to switch to the Labs folder

* run `cd lib` to switch to the Lib folder

* run `cd licenses` to switch to the Licenses folder

* run `cd logs` to switch to the Logs folder

* run `cd metrics` to switch to the Metrics folder

* run `cd plugins` to switch to the Plugins folder

* run `cd products` to switch to the Products folder

* run `cd run` to switch to the Run folder


[[file-locations-file-locations]]
== Customize your file locations
The file locations can also be customized by using environment variables and options.

The locations of _<neo4j-home>_ and _conf_ can be configured using environment variables:

[[table-file-locations-environment-variables]]
.Configuration of _<neo4j-home>_ and _conf_
[cols="4", options="header"]
|===
| Location
| Default
| Environment variable
| Notes

| _<neo4j-home>_
| parent of _bin_
| `NEO4J_HOME`
| Must be set explicitly if _bin_ is not a subdirectory.

| _conf_
| _<neo4j-home>/conf_
| `NEO4J_CONF`
| Must be set explicitly if it is not a subdirectory of _<neo4j-home>_.
|===


The rest of the locations can be configured by uncommenting the respective setting in the _conf/neo4j.conf_ file and changing the default value.

[source, shell]
----
#server.directories.data=data
#server.directories.plugins=plugins
#server.directories.logs=logs
#server.directories.lib=lib
#server.directories.run=run
#server.directories.licenses=licenses
#server.directories.metrics=metrics
#server.directories.transaction.logs.root=data/transactions
#server.directories.dumps.root=data/dumps
#server.directories.import=import
----


[[file-locations-permissions]]
== File permissions

The operating system user that Neo4j server runs as must have the following minimal permissions:

Read only::
  * _bin_
  * _certificates_
  * _conf_
  * _import_
  * _labs_
  * _lib_
  * _licenses_
  * _plugins_
  * _products_

Read and write::
  * _data_
  * _logs_
  * _metrics_
  * _run_

Execute::
  * all files in _bin_ and _tmp_

[NOTE]
====
If  _tmp_ is set to `noexec`, it is recommended to set `dbms.jvm.additional=-Djava.io.tmpdir=/home/neo4j` in _conf/neo4j.conf_.
Additionally, replace _/home/neo4j_ with a path that has `exec` permissions.

For _/bin/cypher-shell_, set this via an environment variable: `export JAVA_OPTS=-Djava.io.tmpdir=/home/neo4j` and replace `/home/neo4j` with a path that has `exec` permissions.
====