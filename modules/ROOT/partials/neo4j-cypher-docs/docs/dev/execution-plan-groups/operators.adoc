[[execution-plans-operators]]
= Execution plan operators in detail
:page-toclevels: -1

[abstract]
--
All operators are listed here, grouped by the similarity of their characteristics.
--

Certain operators are only used by a subset of the <<cypher-runtime,runtimes>> that Cypher can choose from.
If that is the case, the example queries will be prefixed with an option to choose one of these runtimes.

// --- scan and seek operators ---

// AllNodesScan
include::../ql/query-plan/all-nodes-scan.adoc[]

// DirectedRelationshipIndexScan
include::../ql/query-plan/directed-relationship-index-scan.adoc[]
// UndirectedRelationshipIndexScan
include::../ql/query-plan/undirected-relationship-index-scan.adoc[]

// DirectedRelationshipIndexSeek
include::../ql/query-plan/directed-relationship-index-seek.adoc[]
// UndirectedRelationshipIndexSeek
include::../ql/query-plan/undirected-relationship-index-seek.adoc[]

// DirectedRelationshipByIdSeek
include::../ql/query-plan/directed-relationship-by-id-seek.adoc[]
// UndirectedRelationshipByIdSeek
include::../ql/query-plan/undirected-relationship-by-id-seek.adoc[]

// DirectedRelationshipIndexContainsScan
include::../ql/query-plan/directed-relationship-index-contains-scan.adoc[]
// UndirectedRelationshipIndexContainsScan
include::../ql/query-plan/undirected-relationship-index-contains-scan.adoc[]

// DirectedRelationshipIndexEndsWithScan
include::../ql/query-plan/directed-relationship-index-ends-with-scan.adoc[]
// UndirectedRelationshipIndexEndsWithScan
include::../ql/query-plan/undirected-relationship-index-ends-with-scan.adoc[]

// DirectedRelationshipIndexSeekByRange
include::../ql/query-plan/directed-relationship-index-seek-by-range.adoc[]
// UndirectedRelationshipIndexSeekByRange
include::../ql/query-plan/undirected-relationship-index-seek-by-range.adoc[]

// DirectedRelationshipTypeScan
include::../ql/query-plan/directed-relationship-type-scan.adoc[]
// UndirectedRelationshipTypeScan
include::../ql/query-plan/undirected-relationship-type-scan.adoc[]

// NodeByIdSeek
include::../ql/query-plan/node-by-id-seek.adoc[]

// NodeByLabelScan
include::../ql/query-plan/node-by-label-scan.adoc[]

// NodeIndexSeek
include::../ql/query-plan/node-index-seek.adoc[]

// NodeUniqueIndexSeek
include::../ql/query-plan/node-unique-index-seek.adoc[]

// MultiNodeIndexSeek
include::../ql/query-plan/multi-node-index-seek.adoc[]

// AssertingMultiNodeIndexSeek
include::../ql/query-plan/asserting-multi-node-index-seek.adoc[]

// NodeIndexSeekByRange
include::../ql/query-plan/node-index-seek-by-range.adoc[]

// NodeUniqueIndexSeekByRange
include::../ql/query-plan/node-unique-index-seek-by-range.adoc[]

// NodeIndexContainsScan
include::../ql/query-plan/node-index-contains-scan.adoc[]

// NodeIndexEndsWithScan
include::../ql/query-plan/node-index-ends-with-scan.adoc[]

// NodeIndexScan
include::../ql/query-plan/node-index-scan.adoc[]


// --- apply operators ---

// Apply
include::../ql/query-plan/apply.adoc[]

// SemiApply
include::../ql/query-plan/semi-apply.adoc[]

// AntiSemiApply
include::../ql/query-plan/anti-semi-apply.adoc[]

// Anti
include::../ql/query-plan/anti.adoc[]

// LetSemiApply
include::../ql/query-plan/let-semi-apply.adoc[]

// LetAntiSemiApply
include::../ql/query-plan/let-anti-semi-apply.adoc[]

// SelectOrSemiApply
include::../ql/query-plan/select-or-semi-apply.adoc[]

// SelectOrAntiSemiApply
include::../ql/query-plan/select-or-anti-semi-apply.adoc[]

// LetSelectOrSemiApply
include::../ql/query-plan/let-select-or-semi-apply.adoc[]

// LetSelectOrAntiSemiApply
include::../ql/query-plan/let-select-or-anti-semi-apply.adoc[]

// ConditionalApply - changed in 4.3 to Merge.
// AntiConditionalApply - removed in 4.3 (by Merge).
// Merge
include::../ql/query-plan/merge.adoc[]

// LockingMerge
include::../ql/query-plan/locking-merge.adoc[]

// RollUpApply
include::../ql/query-plan/roll-up-apply.adoc[]

// Argument
include::../ql/query-plan/argument.adoc[]


// --- expand operators ---

// Expand(All)
include::../ql/query-plan/expand-all.adoc[]

// Expand(Into)
include::../ql/query-plan/expand-into.adoc[]

// OptionalExpand(All)
include::../ql/query-plan/optional-expand-all.adoc[]

// OptionalExpand(Into)
include::../ql/query-plan/optional-expand-into.adoc[]

// VarLengthExpand(All)
include::../ql/query-plan/varlength-expand-all.adoc[]

// VarLengthExpand(Into)
include::../ql/query-plan/varlength-expand-into.adoc[]

// VarLengthExpand(Pruning)
include::../ql/query-plan/varlength-expand-pruning.adoc[]

// AssertSameNode
include::../ql/query-plan/assert-same-node.adoc[]

//DropResult - removed in 4.3

// EmptyResult
include::../ql/query-plan/empty-result.adoc[]

// ProduceResults
include::../ql/query-plan/produce-results.adoc[]

// LoadCSV
include::../ql/query-plan/load-csv.adoc[]


[[execution-plans-operators-hash-join-general]]
== Hash joins in general

Hash joins have two inputs: the build input and probe input.
The query planner assigns these roles so that the smaller of the two inputs is the build input.
The build input is pulled in eagerly, and is used to build a probe table.
Once this is complete, the probe table is checked for each row coming from the probe input side.

In query plans, the build input is always the left operator, and the probe input the right operator.

There are four hash join operators:

* <<query-plan-node-hash-join,NodeHashJoin>>
* <<query-plan-value-hash-join,ValueHashJoin>>
* <<query-plan-node-left-right-outer-hash-join,NodeLeftOuterHashJoin>>
* <<query-plan-node-left-right-outer-hash-join,NodeRightOuterHashJoin>>

// NodeHashJoin
include::../ql/query-plan/node-hash-join.adoc[]

// ValueHashJoin
include::../ql/query-plan/value-hash-join.adoc[]

// NodeLeftOuterHashJoin
// NodeRightOuterHashJoin
include::../ql/query-plan/node-left-right-outer-hash-join.adoc[]

// TriadicSelection
include::../ql/query-plan/triadic-selection.adoc[]

// TriadicBuild
include::../ql/query-plan/triadic-build.adoc[]

// TriadicFilter
include::../ql/query-plan/triadic-filter.adoc[]

// CartesianProduct
include::../ql/query-plan/cartesian-product.adoc[]

// Foreach
include::../ql/query-plan/foreach.adoc[]

// Eager
include::../ql/query-plan/eager.adoc[]

// EagerAggregation
include::../ql/query-plan/eager-aggregation.adoc[]

// OrderedAggregation
include::../ql/query-plan/ordered-aggregation.adoc[]

// NodeCountFromCountStore
include::../ql/query-plan/node-count-from-count-store.adoc[]

// RelationshipCountFromCountStore
include::../ql/query-plan/relationship-count-from-count-store.adoc[]

// Distinct
include::../ql/query-plan/distinct.adoc[]

// OrderedDistinct
include::../ql/query-plan/ordered-distinct.adoc[]

// Filter
include::../ql/query-plan/filter.adoc[]

// Limit
include::../ql/query-plan/limit.adoc[]

// Skip
include::../ql/query-plan/skip.adoc[]

// Sort
include::../ql/query-plan/sort.adoc[]

// PartialSort
include::../ql/query-plan/partial-sort.adoc[]

// Top
include::../ql/query-plan/top.adoc[]

// PartialTop
include::../ql/query-plan/partial-top.adoc[]

// Union
include::../ql/query-plan/union.adoc[]

// Unwind
include::../ql/query-plan/unwind.adoc[]

// LockNodes - changed in 4.3
// ExhaustiveLimit
include::../ql/query-plan/exhaustive-limit.adoc[]

// Optional
include::../ql/query-plan/optional.adoc[]

// ProjectEndpoints
include::../ql/query-plan/project-endpoints.adoc[]

// Projection
include::../ql/query-plan/projection.adoc[]

// ShortestPath
include::../ql/query-plan/shortest-path.adoc[]

// EmptyRow
include::../ql/query-plan/empty-row.adoc[]

// ProcedureCall
include::../ql/query-plan/procedure-call.adoc[]

// CacheProperties
include::../ql/query-plan/cache-properties.adoc[]

// Create
include::../ql/query-plan/create-nodes---relationships.adoc[]

// Delete
include::../ql/query-plan/delete.adoc[]

// DetachDelete
include::../ql/query-plan/detach-delete.adoc[]

// include::../ql/query-plan/merge-create-node.adoc[]
// Removed in 4.3

// include::../ql/query-plan/merge-create-relationship.adoc[]
// Removed in 4.3

// SetLabels
include::../ql/query-plan/set-labels.adoc[]

// RemoveLabels
include::../ql/query-plan/remove-labels.adoc[]

// SetNodePropertiesFromMap
include::../ql/query-plan/set-node-properties-from-map.adoc[]

// SetRelationshipPropertiesFromMap
include::../ql/query-plan/set-relationship-properties-from-map.adoc[]

// SetProperty
include::../ql/query-plan/set-property.adoc[]

// CreateUniqueConstraint
include::../ql/query-plan/create-unique-constraint.adoc[]

// DropUniqueConstraint (deprecated)
[role=deprecated]
include::../ql/query-plan/drop-unique-constraint.adoc[]

// DoNothingIfExists(CONSTRAINT)
include::../ql/query-plan/create-constraint-only-if-it-does-not-already-exist.adoc[]

// CreateNodePropertyExistenceConstraint
include::../ql/query-plan/create-node-property-existence-constraint.adoc[]

// DropNodePropertyExistenceConstraint (deprecated)
[role=deprecated]
include::../ql/query-plan/drop-node-property-existence-constraint.adoc[]

// CreateNodeKeyConstraint
include::../ql/query-plan/create-node-key-constraint.adoc[]

// DropNodeKeyConstraint (deprecated)
[role=deprecated]
include::../ql/query-plan/drop-node-key-constraint.adoc[]

// CreateRelationshipPropertyExistenceConstraint
include::../ql/query-plan/create-relationship-property-existence-constraint.adoc[]

// DropRelationshipPropertyExistenceConstraint (deprecated)
[role=deprecated]
include::../ql/query-plan/drop-relationship-property-existence-constraint.adoc[]

// DropConstraint
include::../ql/query-plan/drop-constraint-by-name.adoc[]

// ShowConstraints
include::../ql/query-plan/listing-constraints.adoc[]

// CreateIndex
include::../ql/query-plan/create-index.adoc[]

// DoNothingIfExists(INDEX)
include::../ql/query-plan/create-index-only-if-it-does-not-already-exist.adoc[]

// DropIndex (deprecated)
[role=deprecated]
include::../ql/query-plan/drop-index-by-schema.adoc[]

// DropIndex
include::../ql/query-plan/drop-index-by-name.adoc[]

// ShowIndexes
include::../ql/query-plan/listing-indexes.adoc[]

// ShowFunctions
include::../ql/query-plan/listing-functions.adoc[]

// ShowProcedures
include::../ql/query-plan/listing-procedures.adoc[]

// ShowTransactions
include::../ql/query-plan/listing-transactions.adoc[]

// TerminateTransactions
include::../ql/query-plan/terminating-transactions.adoc[]
