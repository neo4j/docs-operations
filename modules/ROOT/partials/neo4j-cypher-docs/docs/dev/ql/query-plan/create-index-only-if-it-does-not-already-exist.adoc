[[query-plan-create-index-only-if-it-does-not-already-exist]]
== Create Index only if it does not already exist ==
To not get an error creating the same index twice, we use the `DoNothingIfExists` operator for indexes.
This will make sure no other index with the given name or schema already exists before the `CreateIndex` operator creates an index.
If it finds an index with the given name or schema it will stop the execution and no new index is created.
The following query will create an index with the name `my_index` on the `since` property of relationships with the `KNOWS` relationship type only if no such index already exists.

.Query
include::includes/query-plan-create-index-only-if-it-does-not-already-exist.query.adoc[]



.Query Plan
[source]
----
Compiler CYPHER 4.4

Planner ADMINISTRATION

Runtime SCHEMA

Runtime version 4.4

+---------------------------+----------------------------------------------------+
| Operator                  | Details                                            |
+---------------------------+----------------------------------------------------+
| +CreateIndex              | BTREE INDEX my_index FOR ()-[:KNOWS]-() ON (since) |
| |                         +----------------------------------------------------+
| +DoNothingIfExists(INDEX) | BTREE INDEX my_index FOR ()-[:KNOWS]-() ON (since) |
+---------------------------+----------------------------------------------------+

Total database accesses: ?

----
