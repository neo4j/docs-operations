[[query-plan-cache-properties]]
== Cache Properties ==
The `CacheProperties` operator reads nodes and relationship properties and caches them in the current row.
Future accesses to these properties can avoid reading from the store which will speed up the query.
In the plan below we will cache `l.name` before `Expand(All)` where there are fewer rows.
      

.Query
include::includes/query-plan-cache-properties.query.adoc[]



.Query Plan
[source]
----
Compiler CYPHER 4.4

Planner COST

Runtime PIPELINED

Runtime version 4.4

+------------------+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| Operator         | Details                                   | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Other               |
+------------------+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+
| +ProduceResults  | location, name                            |             15 |   15 |       0 |                |                        |           | Fused in Pipeline 0 |
| |                +-------------------------------------------+----------------+------+---------+----------------+                        |           +---------------------+
| +Projection      | cache[l.name] AS location, p.name AS name |             15 |   15 |      30 |                |                        |           | Fused in Pipeline 0 |
| |                +-------------------------------------------+----------------+------+---------+----------------+                        |           +---------------------+
| +Filter          | p:Person                                  |             15 |   15 |      15 |                |                        |           | Fused in Pipeline 0 |
| |                +-------------------------------------------+----------------+------+---------+----------------+                        |           +---------------------+
| +Expand(All)     | (l)<-[anon_0:WORKS_IN]-(p)                |             15 |   15 |      16 |                |                        |           | Fused in Pipeline 0 |
| |                +-------------------------------------------+----------------+------+---------+----------------+                        |           +---------------------+
| +CacheProperties | cache[l.name]                             |             10 |   10 |      10 |                |                        |           | Fused in Pipeline 0 |
| |                +-------------------------------------------+----------------+------+---------+----------------+                        |           +---------------------+
| +Filter          | l:Location                                |             10 |   10 |       0 |                |                        |           | Fused in Pipeline 0 |
| |                +-------------------------------------------+----------------+------+---------+----------------+                        |           +---------------------+
| +AllNodesScan    | l                                         |             35 |   35 |      36 |            112 |                    4/0 |     1.059 | Fused in Pipeline 0 |
+------------------+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------------+

Total database accesses: 107, total allocated memory: 192

----
